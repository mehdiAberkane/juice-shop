<!--
  ~ Copyright (c) 2014-2020 Bjoern Kimminich.
  ~ SPDX-License-Identifier: MIT
  -->

<div fxLayoutAlign="center">
  <mat-card class="mat-elevation-z6">
    <section class="guestbook-as">
      <h1>Livre d'or pour AG2R La mondiale</h1>

      <div (click)="getGuestBook()">
        <button class="btn btn-primary">Do something</button>
      </div>

      <div class="form-container" id="guestbook-form">
  
        <mat-form-field appearance="outline" color="accent">
          <mat-label translate>LABEL_AUTHOR</mat-label>
          <input [formControl]="authorControl" matInput type="text" #author id="author" aria-label="Field with the name of the author">
        </mat-form-field>
  
        <mat-form-field appearance="outline" color="accent">
          <mat-label translate>LABEL_COMMENT</mat-label>
          <mat-hint translate>
            <i class="fas fa-exclamation-circle"></i>
            <em style="margin-left:5px;" translate>{{ 'MAX_TEXTAREA_LENGTH' | translate: {length: '160'} }}</em>
          </mat-hint>
          <textarea #comment id="comment" [formControl]="guestbookControl" matInput
                    matAutosizeMinRows="4" matAutosizeMaxRows="4" matTextareaAutosize cols="50" maxlength="160"
                    placeholder="{{ 'WRITE_REVIEW_PLACEHOLDER' | translate}}"
                    aria-label="Field for entering the comment or the guestbook"></textarea>
          <mat-hint align="end">{{comment.value?.length || 0}}/160</mat-hint>
          <mat-error *ngIf="guestbookControl.invalid && guestbookControl.errors.required" translate>MANDATORY_COMMENT
          </mat-error>
        </mat-form-field>
        <div class="error" *ngIf="error">{{error}}</div>
        <div class="confirmation" [hidden]="!(confirmation && !messageControl.dirty)">{{ confirmation }}</div>
      </div>
      <button type="submit" id="submitButton" mat-raised-button color="primary"
              [disabled]="guestbookControl.invalid"
              (click)="save()" aria-label="Button to send the review">
        <i class="material-icons">
          send
        </i>
        {{'BTN_SUBMIT' | translate}}
      </button>
    </section>
  </mat-card>
</div>
